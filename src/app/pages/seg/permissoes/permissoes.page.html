<ion-header>
  <ion-toolbar color="primary">

    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon name="arrow-round-back"></ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-title>{{ title }} {{ subtitlePerfil }} </ion-title>

    <ion-buttons slot="end">
      <ion-button (ionChange)="mostrarPop( $event )">
        <ion-icon name="more"></ion-icon>
      </ion-button>
    </ion-buttons>

  </ion-toolbar>

</ion-header>


<ion-content>
  <!-- #################### Listagem de Perfis ##################### -->
  <ion-grid>
    <!-- <ion-row class="ion-align-self-top">
      <ion-col size-sm="12" size-xs="12" size-md="12" size-lg="12" size-xl="12" class="ion-align-self-center">
        <ion-item lines="none" color="secondary" class="ion-text-center">
          <h5><strong>{{ subtitle }}</strong></h5>
        </ion-item>
      </ion-col>
    </ion-row> -->
    <ion-row>
      <ion-col size-sm="12" size-xs="12" size-md="4" size-lg="4" size-xl="4" class="ion-align-self-top">
        <ion-list lines="none" class="ion-align-self-top">
          <ion-radio-group class="background-par">
            <div class="ion-padding">
              <ion-searchbar placeholder="Pesquisar" (ionInput)="PerfisGetItems($event)">
              </ion-searchbar>
            </div>
            <ion-item *ngFor="let perfil of collectionFilterPerfis">
              <ion-label>{{perfil.Nome}}</ion-label>
              <ion-radio (ionSelect)="mostrarPermissoesDoPerfil(perfil)" slot="start"
                value="{{perfil.CodigoUsuarioPerfil}}">
              </ion-radio>
            </ion-item>
          </ion-radio-group>
        </ion-list>
      </ion-col>

      <ion-col size-sm="12" size-xs="12" size-md="12" size-lg="8" size-xl="8" class="ion-align-self-top">

        <!-- #################### Listagem de Permissoes ##################### -->

        <div *ngIf="flagFilter" class="ion-padding">
          <ion-grid>
            <!-- <ion-row>
              <ion-col size-sm="12" size-xs="8" size-md="8" size-lg="8" size-xl="8" class="ion-align-self-center">
                <ion-item lines="none" color="secondary" class="ion-text-center">
                  <h5><strong>{{ subtitlePerfil }}</strong></h5>
                </ion-item>
              </ion-col>
            </ion-row> -->
            <ion-row>
              <ion-searchbar placeholder="Pesquisar" (ionInput)="RulesGetItems($event)">
              </ion-searchbar>
            </ion-row>
            <ion-list *ngFor="let item of collectionFilterRules">
              <ion-item color="dourado" lines="full">
                <ion-avatar slot="start">
                  <ion-icon style="zoom:2.0;" color="secondary" src="{{ item.Icon }}" name="{{ item.Icon }}">
                  </ion-icon>
                </ion-avatar>
                <ion-label><strong> {{ item.Name }} </strong></ion-label>
              </ion-item>
              <ion-row>
                <ion-col size-sm="12" size-xs="12" size-md="8" size-lg="8" size-xl="8" class="ion-align-self-center">
                  <ion-item lines="none">
                    <ion-toggle (ngModelChange)="salvarPermissaoVer(item, $event)" color="primary" value="Ver"
                      slot="start" [(ngModel)]="item.Ver" name="Ver"></ion-toggle>
                    <ion-label>Ver</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col size-sm="12" size-xs="12" size-md="8" size-lg="8" size-xl="8" class="ion-align-self-center">
                  <ion-item lines="none">
                    <ion-toggle (ngModelChange)="salvarPermissaoPesquisar(item, $event)" color="primary"
                      value="Pesquisar" slot="start" [(ngModel)]="item.Pesquisar" name="Pesquisar"></ion-toggle>
                    <ion-label>Pesquisar</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col size-sm="12" size-xs="12" size-md="8" size-lg="8" size-xl="8" class="ion-align-self-center">
                  <ion-item lines="none">
                    <ion-toggle (ngModelChange)="salvarPermissaoInserir(item, $event)" color="primary" value="Inserir"
                      slot="start" [(ngModel)]="item.Inserir" name="Inserir"></ion-toggle>
                    <ion-label>Inserir</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col size-sm="12" size-xs="12" size-md="8" size-lg="8" size-xl="8" class="ion-align-self-center">
                  <ion-item lines="none">
                    <ion-toggle (ngModelChange)="salvarPermissaoEditar(item, $event)" color="primary" value="Editar"
                      slot="start" [(ngModel)]="item.Editar" name="Editar"></ion-toggle>
                    <ion-label>Editar</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col size-sm="12" size-xs="12" size-md="8" size-lg="8" size-xl="8" class="ion-align-self-center">
                  <ion-item lines="none">
                    <ion-toggle (ngModelChange)="salvarPermissaoDeletar(item, $event)" color="primary" value="Deletar"
                      slot="start" [(ngModel)]="item.Deletar" name="Deletar"></ion-toggle>
                    <ion-label>Deletar</ion-label>
                  </ion-item>
                </ion-col>
              </ion-row>
            </ion-list>
          </ion-grid>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>